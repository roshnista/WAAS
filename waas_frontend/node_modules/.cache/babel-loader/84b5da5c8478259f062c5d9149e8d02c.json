{"ast":null,"code":"var _jsxFileName = \"/Users/itn.roshni.dhanjal/go/src/waas_project/src/components/login.js\";\nimport React, { Component } from \"react\";\nimport './logSign.css'; // import {Redirect} from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = name => event => {\n      this.setState({\n        error: \"\"\n      });\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.authenticate = (jwt, next) => {\n      if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"jwt\", JSON.stringify(jwt));\n        next();\n      }\n    };\n\n    this.clickSubmit = event => {\n      event.preventDefault();\n      const {\n        email,\n        password,\n        error\n      } = this.state;\n      const User = {\n        email,\n        password,\n        error\n      };\n      this.login(User).then(data => {\n        if (data.error) this.setState({\n          error: data.error\n        });else {\n          this.authenticate(data, () => {\n            this.setState({\n              error: \"\",\n              email: \"\",\n              password: \"\",\n              open: true\n            });\n          });\n        }\n      });\n    };\n\n    this.login = User => {\n      return fetch(\"http://localhost:2709/login\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify(User)\n      }).then(response => {\n        return response.json();\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      error: \"\",\n      open: false\n    };\n  }\n\n  render() {\n    const {\n      error,\n      email,\n      password,\n      open\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loginbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"mt-5 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 47\n      }\n    }, \"Login Here\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-primary\",\n      style: {\n        display: error ? \"\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, error), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-info\",\n      style: {\n        display: open ? \"\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, \"Logged In Successfully. You can \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 57\n      }\n    }, \"Continue\"), \".\"), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange(\"email\"),\n      type: \"text\",\n      maxLength: \"30\",\n      className: \"form-control\",\n      placeholder: \"Enter Email\",\n      value: email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange(\"password\"),\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"Enter Password\",\n      value: password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      onClick: this.clickSubmit,\n      type: \"submit\",\n      value: \"Login\",\n      className: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, \"Don't have an account?\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sign\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }, \"Sign Up\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/itn.roshni.dhanjal/go/src/waas_project/src/components/login.js"],"names":["React","Component","Login","constructor","props","handleChange","name","event","setState","error","target","value","authenticate","jwt","next","window","localStorage","setItem","JSON","stringify","clickSubmit","preventDefault","email","password","state","User","login","then","data","open","fetch","method","headers","Accept","body","response","json","catch","err","console","log","render","display"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport './logSign.css';\n// import {Redirect} from 'react-router-dom';\nclass Login extends Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.state={\n            email:\"\",\n            password:\"\",\n            error:\"\",\n            open:false\n        }\n    }\n\n    handleChange=(name)=>(event)=>{\n        this.setState({error:\"\"})\n        this.setState({[name]:event.target.value})\n    }\n    authenticate=(jwt,next)=>{\n        if(typeof window!==\"undefined\"){\n            localStorage.setItem(\"jwt\",JSON.stringify(jwt))\n            next();\n        }\n    }\n    clickSubmit=event=>{\n        event.preventDefault()\n        const {email,password,error}=this.state\n        const User={\n            email,\n            password,\n            error\n        };\n        this.login(User).then(data=>{\n            if(data.error) this.setState({error:data.error});\n            else {\n                this.authenticate(data,()=>{\n                    this.setState({error:\"\",\n                        email:\"\",\n                        password:\"\",\n                        open:true\n                    })\n                })\n            }\n        })\n    }\n\n    login=(User)=>{\n        return fetch(\"http://localhost:2709/login\",{\n            method:\"POST\",\n            headers:{\n                Accept:\"application/json\",\n                \"Content-type\":\"application/json\"\n            },\n            body:JSON.stringify(User)\n        })\n            .then(response=>{\n                return response.json()\n            })\n            .catch(err=>console.log(err))\n    }\n\n    render()\n    {\n        const{error,email,password,open}=this.state\n        return (\n            <div>\n                <div className=\"loginbox\">\n                    <h1 className='mt-5 mb-5'><b>Login Here</b></h1>\n                    <div className=\"alert alert-primary\" style={{display:error?\"\":\"none\"}}>\n                        {error}\n                    </div>\n                    <div className=\"alert alert-info\" style={{display:open?\"\":\"none\"}}>\n                        Logged In Successfully. You can <a href=\"/\">Continue</a>.\n                    </div>\n                    <form>\n                        <p>Email</p>\n                        <input onChange={this.handleChange(\"email\")} type=\"text\" maxLength=\"30\" className=\"form-control\" placeholder=\"Enter Email\" value={email}/>\n                        <p>Password</p>\n                        <input onChange={this.handleChange(\"password\")} type=\"password\" className=\"form-control\" placeholder=\"Enter Password\" value={password} />\n                        <input onClick={this.clickSubmit} type=\"submit\" value=\"Login\" className=\"button\"/>\n                        <b>Don't have an account?</b>\n                        <a href=\"/sign\">Sign Up</a>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}